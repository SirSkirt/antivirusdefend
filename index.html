<DOCUMENT filename="index.html">
    <!doctype html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
        <title>Defender Engine â€“ Dev Shell (Alpha)</title>
        <style>
            :root {
                --bg-top: #020617;
                --bg-bottom: #020c1f;
                --panel: #0f172a;
                --accent: #38bdf8;
                --danger: #f97373;
                --chip: #facc15;
                /* Mobile touch joystick */
                #touchJoystickBase

            {
                position: fixed;
                width: 80px;
                height: 80px;
                border-radius: 9999px;
                border: 1px solid rgba(148,163,184,0.6);
                background: rgba(15,23,42,0.7);
                box-shadow: 0 0 0 1px rgba(15,23,42,0.9);
                opacity: 0;
                pointer-events: none;
                transform: translate(-9999px,-9999px);
                transition: opacity 0.12s ease-out;
                z-index: 30;
            }

            #touchJoystickBase.visible {
                opacity: 1;
            }

            #touchJoystickStick {
                position: absolute;
                left: 20px;
                top: 20px;
                width: 40px;
                height: 40px;
                border-radius: 9999px;
                background: rgba(148,163,184,0.8);
                box-shadow: 0 0 0 1px rgba(15,23,42,0.9);
            }

            }

            html, body {
                margin: 0;
                padding: 0;
                height: 100%;
                width: 100%;
                font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
                color: #e5e7eb;
                background: radial-gradient(circle at top,var(--bg-top),var(--bg-bottom));
                overflow: hidden;
            }

            .root {
                display: flex;
                flex-direction: column;
                height: 100%;
                width: 100%;
            }

            .top-bar {
                flex: 0 0 auto;
                padding: 6px 10px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                background: rgba(15,23,42,0.9);
                border-bottom: 1px solid rgba(148,163,184,0.3);
                font-size: 12px;
                box-sizing: border-box;
            }

            .title {
                font-size: 13px;
                font-weight: 600;
                letter-spacing: 0.03em;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .badge {
                margin-left: 4px;
                padding: 2px 6px;
                border-radius: 999px;
                border: 1px solid rgba(56,189,248,0.6);
                background: rgba(56,189,248,0.15);
                color: #7dd3fc;
                font-size: 10px;
            }

            .top-stats {
                display: flex;
                gap: 8px;
                align-items: center;
                font-size: 11px;
            }

            .pill {
                padding: 3px 7px;
                border-radius: 999px;
                background: rgba(15,23,42,0.8);
                border: 1px solid rgba(148,163,184,0.35);
                display: flex;
                align-items: center;
                gap: 4px;
            }

            .pill-label {
                color: #9ca3af;
                font-size: 10px;
            }

            .pill-value {
                font-weight: 600;
            }

            .game-wrap {
                flex: 1 1 auto;
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 6px;
                box-sizing: border-box;
            }

            .pause-touch-btn {
                position: absolute;
                top: 10px;
                right: 16px;
                width: 32px;
                height: 32px;
                border-radius: 999px;
                background: rgba(15,23,42,0.9);
                border: 1px solid rgba(148,163,184,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 16px;
                color: #e5e7eb;
                box-shadow: 0 0 0 0 1px rgba(15,23,42,0.9);
                cursor: pointer;
                z-index: 8;
            }

                .pause-touch-btn:active {
                    transform: scale(0.96);
                }

            canvas {
                background: #020617;
                border-radius: 14px;
                border: 2px solid #020c1f;
                box-shadow: 0 18px 40px rgba(0,0,0,0.8);
                touch-action: none;
            }
            /* Joystick for touch */
            .joystick-wrap {
                display: none;
                position: absolute;
                left: 8px;
                bottom: 12px;
                width: 120px;
                height: 120px;
                pointer-events: auto;
                touch-action: none;
                z-index: 5;
            }

            .joy-base {
                position: absolute;
                inset: auto;
                width: 100%;
                height: 100%;
                border-radius: 50%;
                background: rgba(15,23,42,0.7);
                border: 1px solid rgba(148,163,184,0.6);
            }

            .joy-knob {
                position: absolute;
                left: 50%;
                top: 50%;
                width: 44px;
                height: 44px;
                margin-left: -22px;
                margin-top: -22px;
                border-radius: 50%;
                background: rgba(56,189,248,0.9);
                box-shadow: 0 0 18px rgba(56,189,248,0.8);
            }
            /* Overlays */
            .overlay {
                position: absolute;
                inset: 0;
                display: none;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                z-index: 10;
            }

                .overlay.visible {
                    display: flex;
                    pointer-events: auto;
                }

            .panel {
                min-width: 260px;
                max-width: 90vw;
                padding: 18px 18px 14px;
                border-radius: 14px;
                background: rgba(15,23,42,0.97);
                box-shadow: 0 20px 50px rgba(0,0,0,0.9);
                border: 1px solid rgba(148,163,184,0.5);
            }

                .panel h2 {
                    margin: 0 0 8px;
                    font-size: 20px;
                }

                .panel h3 {
                    margin: 8px 0 4px;
                    font-size: 14px;
                }

                .panel p {
                    margin: 4px 0;
                    font-size: 12px;
                    color: #cbd5f5;
                }

            .btn-row {
                margin-top: 10px;
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
            }

            button {
                border: none;
                border-radius: 999px;
                padding: 7px 12px;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                background: #0ea5e9;
                color: #020617;
            }

                button.secondary {
                    background: #111827;
                    color: #e5e7eb;
                    border: 1px solid rgba(148,163,184,0.7);
                }

                button.danger {
                    background: #f97373;
                    color: #111827;
                }

                button:disabled {
                    opacity: 0.5;
                    pointer-events: none;
                }
            /* Game over overlay */
            .overlay#gameOverOverlay .panel {
                text-align: center;
            }

            .overlay#gameOverOverlay h2 {
                color: var(--danger);
            }
            /* Upgrade grid */
            .upgrade-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill,minmax(180px,1fr));
                gap: 12px;
                margin-top: 8px;
            }

            .upgrade-card {
                padding: 12px 12px 8px;
                border-radius: 8px;
                border: 1px solid rgba(148,163,184,0.5);
                background: #111827;
                cursor: pointer;
            }

                .upgrade-card:hover {
                    border-color: #38bdf8;
                    background: #1e293b;
                }

                .upgrade-card.selected {
                    border-color: #38bdf8;
                    background: #1e293b;
                }

            .upgrade-name {
                font-weight: 600;
                font-size: 14px;
            }

            .upgrade-desc {
                font-size: 12px;
                color: #94a3b8;
                margin-top: 4px;
            }
            /* Pause overlay */
            .overlay#pauseOverlay .panel {
                text-align: center;
            }
            /* Ransom bar */
            .ransom-bar {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                padding: 8px 12px;
                background: rgba(249,115,115,0.9);
                border-bottom: 1px solid #ef4444;
                color: #111827;
                font-size: 12px;
                font-weight: 600;
                text-align: center;
                z-index: 20;
            }

                .ransom-bar button {
                    margin-left: 8px;
                    padding: 4px 8px;
                    font-size: 11px;
                }

                    .ransom-bar button.secondary {
                        background: #111827;
                        color: #e5e7eb;
                    }
        </style>
    </head>
    <body>
        <canvas id="gameCanvas" width="960" height="540"></canvas>

        <script src="AntivirusDefend/debug/debug.js?v=0.0.1"></script>

        <script src="AntivirusDefend/textures/textures.js?v=0.0.2"></script>
        <script src="AntivirusDefend/heroes/heroes.js?v=0.4.4"></script>
        <script src="AntivirusDefend/enemies/enemies.js?v=0.4.4"></script>
        <script src="AntivirusDefend/stages/stages.js?v=0.4.7"></script>
        <script src="AntivirusDefend/upgrades/upgrades.js?v=0.4.4"></script>
        <script src="AntivirusDefend/engine/input.js?v=0.1.5"></script>

        <script src="AntivirusDefend/engine/plugins/loader/pluginloader.js?v=0.1.0"></script>
        <script src="AntivirusDefend/engine/projectManager.js?v=0.1.0"></script>

                <script src="AntivirusDefend/engine/engine.js?v=0.4.9-Inf4"></script>

        <script src="AntivirusDefend/ui/menu.js?v=0.4.13"></script>
        <script src="AntivirusDefend/ui/editor.js?v=0.1.0"></script>
        <script src="AntivirusDefend/ui/renderengine.js?v=0.4.13"></script>

    </body>
</html>
</DOCUMENT>
